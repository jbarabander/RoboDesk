<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    <title>Command Center</title>
</head>
<body>
<div class="macro-container container">
    <div>
        <h3>Title: <input type="text" class="form-control"/></h3>
        <hr/>
    </div>
    <div class="row">
        <div class="col-xs-6">
            <h4>Keyboard Shortcut:</h4>
            <input type="text" id='keyboard-shortcut' class="form-control shortcut"/>
        </div>
        <div class="col-xs-6" class="steps">
            <h4>Commands</h4>
            <input type="text" class="form-control form-inline"/>
            <span class="glyphicon glyphicon-plus"></span>
        </div>
    </div>

</div>
<script src="presupplied/jquery.js"></script>
<script>
    var fs = require('fs');
    var robot = require('robotjs');
    var gui = require('nw.gui');
</script>
<script>
    $('#keyboard-shortcut').on('keydown', function (event) {
        var numOfPluses;
        console.log(event.which);
        if ($(this).val() === '') numOfPluses = 0;
        else numOfPluses = $(this).val().match(/\+/g) ? $(this).val().match(/\+/g).length : 0;
        if (numOfPluses === 0) {
            if (event.which === 17) $(this).val($(this).val() + 'ctrl+');
            else if(event.which === 18) $(this).val($(this).val() + 'alt+');
            else if(event.which === 16) $(this).val($(this).val() + 'shift+');
            else if(event.which === 8)  $(this).val('');
            else return false;
        }
        else {
            var arr = $(this).val().split('+');
            arr.splice(0,1);
            arr = arr.join('');
            console.log(arr);
            if(arr.length > 1 && event.which !== 8) return false;
        }
    })

</script>

<!--<script src="terminal.js"></script>-->
</body>
</html>